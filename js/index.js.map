{"version":3,"file":"index.js","mappings":"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","sources":["webpack://mrw-post-cleanup-utilities/./src/js/buttons/fix-fake-headings.js","webpack://mrw-post-cleanup-utilities/./src/js/buttons/promote-heading-levels.js","webpack://mrw-post-cleanup-utilities/./src/js/buttons/reset-heading-levels.js","webpack://mrw-post-cleanup-utilities/./src/js/buttons/strip-underlines.js","webpack://mrw-post-cleanup-utilities/./src/js/compontents/block-transform-button.js","webpack://mrw-post-cleanup-utilities/./src/js/compontents/editor-find-replace-button.js","webpack://mrw-post-cleanup-utilities/./src/js/compontents/sidebar-panel-section.js","webpack://mrw-post-cleanup-utilities/./src/js/sidebar-plugin.js","webpack://mrw-post-cleanup-utilities/external window \"ReactJSXRuntime\"","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"blockEditor\"]","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"blocks\"]","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"components\"]","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"data\"]","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"editor\"]","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"element\"]","webpack://mrw-post-cleanup-utilities/external window [\"wp\",\"plugins\"]","webpack://mrw-post-cleanup-utilities/webpack/bootstrap","webpack://mrw-post-cleanup-utilities/webpack/runtime/compat get default export","webpack://mrw-post-cleanup-utilities/webpack/runtime/define property getters","webpack://mrw-post-cleanup-utilities/webpack/runtime/hasOwnProperty shorthand","webpack://mrw-post-cleanup-utilities/webpack/runtime/make namespace object","webpack://mrw-post-cleanup-utilities/./src/js/index.js"],"sourcesContent":["import { createBlock, getBlockContent } from \"@wordpress/blocks\";\r\nimport BlockTransformButton from \"../compontents/block-transform-button\";\r\n\r\nexport default function FixFakeHeadingsButton(attributes) {\r\n\tlet { level } = attributes;\r\n\tif (level === 2) {\r\n\t\tlevel = undefined;\r\n\t}\r\n\r\n\tfunction isFakeHeading(block) {\r\n\t\tif (block?.name !== \"core/paragraph\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst blockContent = getBlockContent(block).trim();\r\n\r\n\t\tif (blockContent === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst startsWithBold = blockContent.indexOf(\"<p><strong>\") > -1;\r\n\t\tconst endsWithBold =\r\n\t\t\t(blockContent.match(/<\\/strong>[\\s]?<\\/p>$/g) || []).length === 1;\r\n\r\n\t\tif (!startsWithBold || !endsWithBold) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst onlyOneBold =\r\n\t\t\t(blockContent.match(/<\\/strong>/g) || []).length === 1;\r\n\r\n\t\treturn onlyOneBold;\r\n\t}\r\n\r\n\tfunction convertParagraphToHeading(block) {\r\n\t\tconst blockContent = getBlockContent(block);\r\n\t\tconst newBlock = createBlock(\"core/heading\", {\r\n\t\t\t/* Reminder that this simple .replace() only works because there is one instance of each element we're searching for */\r\n\t\t\tcontent: blockContent\r\n\t\t\t\t.replace(\"<p><strong>\", \"\")\r\n\t\t\t\t.replace(\"</strong></p>\", \"\")\r\n                .trim(),\r\n\t\t\tlevel,\r\n\t\t});\r\n\t\treturn newBlock;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<BlockTransformButton\r\n\t\t\tblockTest={isFakeHeading}\r\n\t\t\tblockTransform={convertParagraphToHeading}\r\n\t\t\tbuttonText=\"Fix Fake Headings\"\r\n\t\t\tbuttonIcon=\"heading\"\r\n\t\t/>\r\n\t);\r\n}\r\n","import { createBlock, getBlockContent } from \"@wordpress/blocks\";\r\nimport BlockTransformButton from \"../compontents/block-transform-button\";\r\n\r\nexport default function PromoteHeadingLevels(attributes) {\r\n\r\n\tfunction isHeadingButNot2(block) {\r\n\t\treturn block?.name === \"core/heading\" && block.attributes.level > 2;\r\n\t}\r\n\r\n\tfunction PromoteHeadingLevel(block) {\r\n\t\tconst blockContent = getBlockContent(block);\r\n\t\tconst newBlock = createBlock(\"core/heading\", {\r\n\t\t\t...block.attributes,\r\n\t\t\tcontent: blockContent\r\n            \t// regex for any number\r\n\t\t\t\t.replace(/<h[2-6][^>]*>/i, '')\r\n\t\t\t\t.replace(/<\\/h[2-6]>/i, '')\r\n                .trim(),\r\n\t\t\tlevel: Math.max(2,block.attributes.level - 1),\r\n\t\t});\r\n\t\treturn newBlock;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<BlockTransformButton\r\n\t\t\tblockTest={isHeadingButNot2}\r\n\t\t\tblockTransform={PromoteHeadingLevel}\r\n\t\t\tbuttonText={\"Promote Headings\"}\r\n\t\t\tbuttonIcon=\"arrow-up-alt\"\r\n\t\t/>\r\n\t);\r\n}\r\n","import { createBlock, getBlockContent } from \"@wordpress/blocks\";\r\nimport BlockTransformButton from \"../compontents/block-transform-button\";\r\n\r\nexport default function ResetHeadingLevelsButton(attributes) {\r\n\tconst { level } = attributes;\r\n\r\n\tfunction isHeadingButNotSelectedLevel(block, level) {\r\n\t\treturn block?.name === \"core/heading\" && block.attributes.level !== level;\r\n\t}\r\n\r\n\tfunction resetHeadingLevel(block) {\r\n\t\tconst blockContent = getBlockContent(block);\r\n\t\tconst newBlock = createBlock(\"core/heading\", {\r\n\t\t\t...block.attributes,\r\n\t\t\tcontent: blockContent\r\n            \t// regex for any number\r\n\t\t\t\t.replace(/<h[2-6][^>]*>/i, '')\r\n\t\t\t\t.replace(/<\\/h[2-6]>/i, '')\r\n                .trim(),\r\n\t\t\tlevel,\r\n\t\t});\r\n\t\treturn newBlock;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<BlockTransformButton\r\n\t\t\tblockTest={isHeadingButNotSelectedLevel}\r\n\t\t\tblockTransform={resetHeadingLevel}\r\n\t\t\tbuttonText={\"Make all headings H\" + level + \"s\"}\r\n\t\t\tbuttonIcon=\"image-rotate\"\r\n\t\t/>\r\n\t);\r\n}\r\n","import EditorFindReplaceButton from \"../compontents/editor-find-replace-button\";\r\n\r\nexport default function StripUnderlinesButton() {\r\n    // This will remove all instances of underlines using either the <u> tag or inline styles. If a span is only used to apply this one inline style, then we can and should safely remove the span as well\r\n    function stripUnderlines( postContent ) {\r\n        return postContent\r\n            .replace(/<u>/gi, '')\r\n            .replace(/<\\\\u>/gi, '')\r\n            .replace(/<span style=\"text-decoration: underline;\">(.*)<\\/span>/gi, '$1')\r\n            .replace(/text-decoration: underline;/gi, '');\r\n    }\r\n\r\n\treturn (\r\n\t\t<EditorFindReplaceButton\r\n            buttonText={'Strip Underlines'}\r\n            buttonIcon={'editor-underline'}\r\n            transformFunction={stripUnderlines}\r\n            />\r\n\t);\r\n}\r\n","import { useSelect, useDispatch } from \"@wordpress/data\";\r\nimport { store as blockEditorStore } from \"@wordpress/block-editor\";\r\nimport { Button } from \"@wordpress/components\";\r\n\r\nfunction BlockTransformButton(props) {\r\n    const { blockTest, blockTransform, buttonText, buttonIcon } = props;\r\n\r\n    /*\r\n    Lesson learned: React hooks must be called in the root of the functional compontent!\r\n\tSee: https://react.dev/warnings/invalid-hook-call-warning#breaking-rules-of-hooks\r\n\tand See: https://developer.wordpress.org/news/2024/03/28/how-to-work-effectively-with-the-useselect-hook/#but-call-them-outside-when-you-re-in-an-event-handler\r\n    */\r\n    const { replaceBlock } = useDispatch(blockEditorStore);\r\n    const blocks = useSelect(\r\n        (select) => select(blockEditorStore).getBlocks(),\r\n        [],\r\n    );\r\n\r\n    /**\r\n     * Function that 1) tests a block to see if it meets a specific criteria, and 2) if it does, transforms it via the second function. It is recursive and will go through nested blocks utnil all blocks have been tested and possibly transformed.\r\n     *\r\n     * @param {object} block a WordPress block editor block object\r\n     * @param {function} criteriaFunction a function that tests the block to see if it meets a specific criteria\r\n     * @param {function} transformFunction a function that transforms the block if it meets the criteria\r\n     */\r\n    function recurseAndTransform( block, criteriaFunction, transformFunction ) {\r\n        if ( criteriaFunction(block) ) {\r\n            const newBlock = transformFunction(block);\r\n            replaceBlock(block.clientId, newBlock);\r\n        } else if (block?.innerBlocks?.length) {\r\n            block.innerBlocks.forEach((block) => recurseAndTransform(block));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Button\r\n            text={buttonText}\r\n            icon={buttonIcon}\r\n            isDestructive={true}\r\n            onClick={() => {\r\n                blocks.forEach((block) => recurseAndTransform(block, blockTest, blockTransform ))\r\n            }}\r\n            __nextHasNoMarginBottom={true}\r\n            variant=\"secondary\"\r\n            />\r\n    );\r\n}\r\n\r\nexport default BlockTransformButton;","import { useSelect, useDispatch } from \"@wordpress/data\";\r\nimport { parse } from \"@wordpress/blocks\";\r\nimport { store as editorStore } from \"@wordpress/editor\";\r\nimport { store as blockEditorStore } from \"@wordpress/editor\";\r\nimport { Button } from \"@wordpress/components\";\r\n\r\nexport default function EditorFindReplaceButton( props ) {\r\n    const { transformFunction, buttonText, buttonIcon } = props;\r\n\r\n    const { resetBlocks } = useDispatch(blockEditorStore);\r\n    const postContent = useSelect(\r\n        (select) => select(editorStore).getEditedPostContent(),\r\n        [],\r\n    );\r\n\r\n    /**\r\n     * Apply the transform function to the post content, parse back into block objects, and reset the editor with those updated blocks\r\n     */\r\n    function updatePost() {\r\n        const newContent = transformFunction(postContent);\r\n        const updatedBlocks = parse(newContent);\r\n        resetBlocks(updatedBlocks);\r\n    }\r\n\r\n\treturn (\r\n\t\t<Button\r\n            text={buttonText}\r\n            icon={buttonIcon}\r\n            isDestructive={true}\r\n            __nextHasNoMarginBottom={true}\r\n            onClick={() => updatePost()}\r\n            variant=\"secondary\"\r\n            />\r\n\t);\r\n}\r\n","import { PanelBody } from \"@wordpress/components\";\r\n\r\nexport default function SidebarPanelSection( props ) {\r\n    const { panelName, title, icon, description, children } = props;\r\n    return (\r\n        <PanelBody\r\n            name={panelName}\r\n            title={title}\r\n            className={panelName}\r\n            icon={icon}\r\n            initialOpen={false}\r\n        >\r\n            <div\r\n                style={{\r\n                    display: \"flex\",\r\n                    gap: \"12px\",\r\n                    flexDirection: \"column\",\r\n                }}\r\n            >\r\n                <p>{description}</p>\r\n\r\n                {children}\r\n\r\n            </div>\r\n        </PanelBody>\r\n    );\r\n}","/* WordPress dependencies */\r\nimport { PluginSidebar } from \"@wordpress/editor\";\r\nimport { useState } from \"@wordpress/element\";\r\nimport { SelectControl } from \"@wordpress/components\";\r\n\r\n/* Internal dependencies */\r\nimport SidebarPanelSection from \"./compontents/sidebar-panel-section\";\r\nimport FixFakeHeadingsButton from \"./buttons/fix-fake-headings\";\r\nimport ResetHeadingLevelsButton from \"./buttons/reset-heading-levels\";\r\nimport PromoteHeadingLevelsButton from \"./buttons/promote-heading-levels\";\r\nimport StripUnderlinesButton from \"./buttons/strip-underlines\";\r\n\r\nconst CleanupUtilitiesSidebar = () => {\r\n\tconst [fakeHeadingsLevel, setFakeHeadingsLevel] = useState(2);\r\n\tconst [resetHeadingsLevel, setResetHeadingsLevel] = useState(2);\r\n\tconst headingLevels = [\r\n\t\t{ label: \"2\", value: 2 },\r\n\t\t{ label: \"3\", value: 3 },\r\n\t\t{ label: \"4\", value: 4 },\r\n\t];\r\n\t\r\n\treturn (\r\n\t\t<PluginSidebar\r\n\t\t\tname=\"mrw-post-cleanup-utilities\"\r\n\t\t\ttitle=\"Post Cleanup Utilities\"\r\n\t\t\ticon=\"admin-tools\"\r\n\t\t>\r\n\t\t\t<SidebarPanelSection\r\n\t\t\t\tname=\"mrw-fix-headings\"\r\n\t\t\t\ttitle=\"Fix Fake Headings\"\r\n\t\t\t\ticon=\"heading\"\r\n\t\t\t\tdescription=\"This button will find any paragraphs that are completely\r\n\t\t\t\t\t\tbolded and turn them into headings. By default, headings are\r\n\t\t\t\t\t\tlevel 2 (main subsections), but many pages (especially\r\n\t\t\t\t\t\tGuides) may benefit from conversion to Heading 3 or Heading\r\n\t\t\t\t\t\t4 and then updating just a few Headings to level 2/3.\"\r\n\t\t\t>\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tlabel=\"Heading Level\"\r\n\t\t\t\t\tvalue={fakeHeadingsLevel}\r\n\t\t\t\t\toptions={headingLevels}\r\n\t\t\t\t\tonChange={(value) => setFakeHeadingsLevel(parseInt(value))}\r\n\t\t\t\t/>\r\n\t\t\t\t<FixFakeHeadingsButton level={fakeHeadingsLevel} />\r\n\t\t\t</SidebarPanelSection>\r\n\t\t\t<SidebarPanelSection\r\n\t\t\t\tname=\"mrw-reset-headings\"\r\n\t\t\t\ttitle=\"Reset Heading Levels\"\r\n\t\t\t\ticon=\"image-rotate\"\r\n\t\t\t\tdescription=\"Change all heading blocks to the selected level.\"\r\n\t\t\t>\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tlabel=\"Heading Level\"\r\n\t\t\t\t\tvalue={resetHeadingsLevel}\r\n\t\t\t\t\toptions={headingLevels}\r\n\t\t\t\t\tonChange={(value) => setResetHeadingsLevel(parseInt(value))}\r\n\t\t\t\t/>\r\n\t\t\t\t<ResetHeadingLevelsButton level={resetHeadingsLevel} />\r\n\t\t\t</SidebarPanelSection>\r\n\t\t\t<SidebarPanelSection\r\n\t\t\t\tname=\"mrw-promote-headings\"\r\n\t\t\t\ttitle=\"Promote Heading Levels\"\r\n\t\t\t\ticon=\"arrow-up-alt\"\r\n\t\t\t\tdescription={\"\\\"Raise\\\" all headings in the hierarchy by one level (decrease numeric level by one). Change in levels is capped at 2, so this tool may result in flattening heading structure.\"}\r\n\t\t\t\t>\r\n\t\t\t\t<PromoteHeadingLevelsButton />\r\n\t\t\t</SidebarPanelSection>\r\n\t\t\t<SidebarPanelSection\r\n\t\t\t\tname=\"mrw-strip-underlines\"\r\n\t\t\t\ttitle=\"Remove Underlines\"\r\n\t\t\t\ticon=\"editor-underline\"\r\n\t\t\t\tdescription={\"Remove all underlines from either the <u> element or inline styles.\"}\r\n\t\t\t\t>\r\n\t\t\t\t<StripUnderlinesButton />\r\n\t\t\t</SidebarPanelSection>\r\n\r\n\t\t</PluginSidebar>\r\n\t);\r\n};\r\n\r\nexport default CleanupUtilitiesSidebar;\r\n","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* Core dependencies */\r\nimport { registerPlugin } from \"@wordpress/plugins\";\r\n\r\n/* Internal Dependencies */\r\nimport CleanupUtilitiesSidebar from './sidebar-plugin';\r\n\r\nregisterPlugin(\"cleanup-utilities-sidebar\", {\r\n\trender: CleanupUtilitiesSidebar,\r\n});"],"names":["createBlock","getBlockContent","BlockTransformButton","jsx","_jsx","FixFakeHeadingsButton","attributes","level","undefined","isFakeHeading","block","name","blockContent","trim","startsWithBold","indexOf","endsWithBold","match","length","onlyOneBold","convertParagraphToHeading","newBlock","content","replace","blockTest","blockTransform","buttonText","buttonIcon","PromoteHeadingLevels","isHeadingButNot2","PromoteHeadingLevel","Math","max","ResetHeadingLevelsButton","isHeadingButNotSelectedLevel","resetHeadingLevel","EditorFindReplaceButton","StripUnderlinesButton","stripUnderlines","postContent","transformFunction","useSelect","useDispatch","store","blockEditorStore","Button","props","replaceBlock","blocks","select","getBlocks","recurseAndTransform","criteriaFunction","clientId","innerBlocks","forEach","text","icon","isDestructive","onClick","__nextHasNoMarginBottom","variant","parse","editorStore","resetBlocks","getEditedPostContent","updatePost","newContent","updatedBlocks","PanelBody","jsxs","_jsxs","SidebarPanelSection","panelName","title","description","children","className","initialOpen","style","display","gap","flexDirection","PluginSidebar","useState","SelectControl","PromoteHeadingLevelsButton","CleanupUtilitiesSidebar","fakeHeadingsLevel","setFakeHeadingsLevel","resetHeadingsLevel","setResetHeadingsLevel","headingLevels","label","value","options","onChange","parseInt","registerPlugin","render"],"sourceRoot":""}